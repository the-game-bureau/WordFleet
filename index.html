<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="src/media/wf_apple.png">
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="src/media/wf.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WORD FLEET</title>
    <meta property="og:title" content="WORD FLEET">
    <meta property="og:description" content="The timeless appeal of naval combat strategy meets modern word puzzle mastery. Every letter is a weapon. Every word is an attack. Every victory demands both tactical brilliance and linguistic skill.">
    <meta property="og:image" content="https://the-game-bureau.github.io/WordFleet/src/media/wordfleet-social.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://the-game-bureau.github.io/WordFleet/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WORD FLEET">
    <meta name="twitter:description" content="The timeless appeal of naval combat strategy meets modern word puzzle mastery. Every letter is a weapon. Every word is an attack. Every victory demands both tactical brilliance and linguistic skill.">
    <meta name="twitter:image" content="media/wordfleet-social.png">
    <meta name="description" content="The timeless appeal of naval combat strategy meets modern word puzzle mastery. Every letter is a weapon. Every word is an attack. Every victory demands both tactical brilliance and linguistic skill.">
    <link href="https://fonts.cdnfonts.com/css/clear-sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/lcd-7" rel="stylesheet">
    <style>
        :root {
            --battleship-gray: #4a535a;
            --ocean-blue: #22303c;
            --tile-green: #6aaa64;
            --white: #ffffff;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: 
                linear-gradient(135deg, rgba(0, 0, 0, 0.3) 0%, rgba(34, 48, 60, 0.4) 100%),
                url('src/media/word_fleet_banner_1600x400.png');
            background-size: cover;
            background-position: center top;
            background-repeat: no-repeat;
            min-height: 300vh;
        }

        /* Sleek modern header */
        .wordle-header {
            background: rgba(18, 18, 19, 0.85);
            border: 1px solid #3a3a3c;
            border-radius: 0;
            padding: 20px 0 16px 0;
            text-align: center;
            width: 100%;
            box-shadow: 
                0 8px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
            position: relative;
            overflow: hidden;
        }

        .wordle-title {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4px;
            flex-wrap: wrap;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        .wordle-word {
            display: flex;
            gap: 4px;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.5));
        }

        .wordle-tile {
            width: clamp(36px, 7vw, 52px);
            height: clamp(36px, 7vw, 52px);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(16px, 3.5vw, 24px);
            font-family: 'Clear Sans', 'Helvetica Neue', Arial, sans-serif;
            font-weight: 700;
            border-radius: 0px;
            background: #6aaa64;
            color: #ffffff;
            text-transform: uppercase;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .wordle-tile.blank {
            background: transparent;
            border: 2px solid #3a3a3c;
            color: transparent;
        }

        .header-tagline {
            color: rgba(255, 255, 255, 0.85);
            font-size: clamp(0.9rem, 3.2vw, 1.1rem);
            margin-top: 12px;
            font-weight: 700;
            letter-spacing: 1.2px;
            text-transform: uppercase;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
            position: relative;
            z-index: 1;
        }

        .header-tagline a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: color 0.2s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 1px;
        }

        .header-tagline a:hover {
            color: #ffffff;
            border-bottom-color: rgba(255, 255, 255, 0.6);
        }

        .main-container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 0 200vh 0;
            min-height: calc(100vh - 120px);
        }

        .forms-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 48px;
            width: 100%;
            max-width: 1080px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Enhanced glass effect cards with modern touches */
        .form-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 28px;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 540px;
            width: 100%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }

        /* Highlight effect for the form card - NAVAL GOLD VERSION */
        .form-card.highlight {
            border: 3px solid #d4af37 !important;
            background: rgba(212, 175, 55, 0.08) !important;
            box-shadow: 
                0 0 25px rgba(212, 175, 55, 0.7) !important,
                0 0 50px rgba(212, 175, 55, 0.4) !important,
                0 0 75px rgba(212, 175, 55, 0.2) !important;
            animation: navalGoldPulse 3s ease-in-out !important;
        }

        @keyframes overlayGlow {
            0% {
                background: rgba(106, 170, 100, 0);
            }
            20% {
                background: rgba(106, 170, 100, 0.7);
            }
            40% {
                background: rgba(106, 170, 100, 0);
            }
            60% {
                background: rgba(106, 170, 100, 0.7);
            }
            80% {
                background: rgba(106, 170, 100, 0);
            }
            100% {
                background: rgba(106, 170, 100, 0);
            }
        }

        .form-title {
            font-size: clamp(1.1rem, 3.8vw, 1.4rem);
            font-weight: 700;
            color: #ffffff;
            text-align: center;
            margin: 0;
            padding-bottom: 16px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.15);
            letter-spacing: 1.2px;
            text-transform: uppercase;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
            position: relative;
        }

        .form-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, #6aaa64, #5a9454);
            border-radius: 1px;
            animation: greenLineBounce 3s ease-in-out infinite;
        }

        @keyframes greenLineBounce {
            0% {
                left: 20%;
                transform: translateX(0);
            }
            50% {
                left: 80%;
                transform: translateX(-100%);
            }
            100% {
                left: 20%;
                transform: translateX(0);
            }
        }

        .form-group {
            margin: 0;
            text-align: left;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #ffffff;
            font-size: clamp(0.9rem, 3vw, 1rem);
            letter-spacing: 0.5px;
            text-align: center;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            background: #ffffff;
            color: #000000;
            outline: none;
            font-family: inherit;
            transition: none;
        }

        .input-with-refresh {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-with-refresh input {
            padding-right: 40px;
        }

        .refresh-btn {
            position: absolute;
            right: 8px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .refresh-btn:hover,
        .refresh-btn:focus,
        .refresh-btn:active {
            background: #fff !important;
            border: none !important;
            box-shadow: none !important;
        }

        .refresh-btn:active {
            transform: rotate(-180deg);
        }

        .form-group input:hover, .form-group select:hover {
            border-color: #000000;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #000000;
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
        }

        .toggle-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            margin: 0;
            padding: 20px;
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            white-space: nowrap;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .toggle-group-label {
            font-size: clamp(0.9rem, 3vw, 1rem);
            color: #ffffff;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
            white-space: nowrap;
        }

        .toggle-switch {
            position: relative;
            width: 40px;
            height: 22px;
            display: inline-block;
            flex-shrink: 0;
        }

        .toggle-input { 
            opacity: 0; 
            width: 0; 
            height: 0; 
            position: absolute;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ffffff;
            transition: 0.2s;
            border-radius: 22px;
            border: 1px solid #e0e0e0;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 1px;
            bottom: 1px;
            background-color: #000000;
            transition: 0.2s;
            border-radius: 50%;
        }

        .toggle-input:checked + .toggle-slider { 
            background-color: #000000;
            border-color: #000000;
        }

        .toggle-input:checked + .toggle-slider:before { 
            transform: translateX(18px);
            background-color: #ffffff;
        }

        .toggle-label {
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
            transition: color 0.2s ease;
            width: 100px;
            text-align: center;
            white-space: nowrap;
            display: inline-block;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
        }

        .toggle-label.active {
            color: #ffffff;
            font-weight: 600;
        }

        #pickWordsLabel {
            text-align: right;
        }

        #autoGenLabel {
            text-align: left;
        }

        .toggle-container {
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
            margin-top: 4px;
        }

        /* Modern enhanced buttons */
        .action-btn,
        .print-btn {
            color: #000000;
            text-decoration: none;
            padding: 14px 24px;
            background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            font-weight: 600;
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            letter-spacing: 0.8px;
            cursor: pointer;
            font-family: inherit;
            white-space: nowrap;
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            text-transform: uppercase;
            width: 100%;
            margin: 12px 0 0 0;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .form-divider {
            border: none;
            border-top: 2px solid rgba(200,200,200,0.25);
            margin: 14px 0 10px 0;
            width: 100%;
        }

        /* Fallback image for accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Info text styling */
        .info-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: clamp(0.85rem, 2.5vw, 0.95rem);
            line-height: 1.5;
            text-align: center;
            margin: 8px 0;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
        }

        /* Responsive design */
        @media (max-width: 1200px) {
            .forms-container {
                grid-template-columns: 1fr;
                gap: 24px;
                padding: 0 20px;
                width: 100%;
                max-width: 500px;
                margin: 0 auto;
            }
            .form-card {
                max-width: 100%;
                padding: 24px 20px;
            }
        }

        @media (max-width: 768px) {
            .wordle-header {
                padding: 16px 0 12px 0;
                border-radius: 0;
            }
            
            .wordle-word {
                gap: 1px;
                margin: 0 4px;
            }
            
            .wordle-title {
                gap: 1px;
            }

            .header-tagline {
                font-size: clamp(0.65rem, 2.2vw, 0.8rem);
                margin-top: 10px;
                letter-spacing: 1px;
            }

            .forms-container {
                padding: 0 16px;
                width: 100%;
                max-width: 400px;
            }
            
            .form-card {
                padding: 24px 20px;
                border-radius: 18px;
            }
            
            .main-container {
                padding: 20px 0;
            }
        }

        @media (max-width: 480px) {
            body {
                min-height: 100vh;
                height: auto;
                background: var(--battleship-gray) !important;
                background-image: none !important;
                overflow-y: auto;
                padding: 0;
                margin: 0;
            }
            .main-container {
                padding-bottom: 0;
                margin-bottom: 0;
            }
            .forms-container {
                gap: 24px;
                padding-bottom: 40px; /* Added padding for mobile spacing */
            }
            .mobile-image-footer {
                display: block;
                width: 100vw;
                max-width: 100vw;
                margin: 24px auto 0 auto;
                text-align: center;
            }
            .mobile-image-footer img {
                width: 100vw;
                max-width: 100vw;
                height: auto;
                display: block;
                margin: 0 auto;
                border-radius: 0 0 16px 16px;
                box-shadow: 0 -4px 24px rgba(0,0,0,0.25);
            }
        }

        /* Hide mobile image footer by default */
        .mobile-image-footer {
            display: none;
        }

        @media screen and (orientation: landscape) and (max-width: 900px) {
            body > *:not(.force-portrait-message) {
                display: none !important;
            }
            .force-portrait-message {
                display: flex !important;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                color: #fff;
                background: var(--battleship-gray, #333);
                font-size: 1.5rem;
                text-align: center;
                padding: 32px;
            }
        }
        .force-portrait-message {
            display: none;
        }

        /* Prevent bounce/scale on focus/blur for input and emoji button */
        .input-with-refresh input:focus,
        .input-with-refresh input:active,
        .input-with-refresh input:hover,
        .refresh-btn:focus,
        .refresh-btn:active,
        .refresh-btn:hover,
        .input-with-refresh:focus,
        .input-with-refresh:active,
        .input-with-refresh:hover,
        .form-group:focus,
        .form-group:active,
        .form-group:hover {
            transform: none !important;
            box-shadow: none !important;
        }

        /* Keep all form cards completely still */
        .form-card {
            transform: none !important;
            border: 1px solid rgba(255, 255, 255, 0.15) !important;
        }

        /* ONLY background glow - absolutely nothing else */
        #penPaperForm.highlight {
            border: 1px solid rgba(255, 255, 255, 0.15) !important;
            position: relative;
        }

        /* Overlay effect instead of background change */
        #penPaperForm.highlight::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            animation: overlayGlow 3s ease-in-out !important;
            pointer-events: none;
            z-index: 1;
        }

        /* Rules modal styles */
        .rules-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .rules-modal.active {
            display: flex;
        }

        .rules-content {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            max-width: 1200px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .rules-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 30px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            padding: 5px 10px;
        }

        .rules-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .rules-title {
            color: #ffffff;
            font-size: 2.5rem;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
            margin: 0;
        }

        .print-rules-btn {
            color: #000000;
            text-decoration: none;
            padding: 12px 20px;
            background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.9rem;
            letter-spacing: 0.8px;
            cursor: pointer;
            font-family: inherit;
            white-space: nowrap;
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
        }

        .rules-section {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .rules-section h3 {
            color: #ffffff;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        }

        .rules-section ul {
            padding-left: 20px;
            margin-bottom: 15px;
        }

        .rules-section li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <!-- Rules Modal -->
    <div class="rules-modal" id="rulesModal">
        <div class="rules-content">
            <button class="rules-close" onclick="closeRulesModal()">&times;</button>
            
            <div class="rules-header">
                <h2 class="rules-title">WORD FLEET: RULES OF ENGAGEMENT</h2>
                <button class="print-rules-btn" onclick="printRules()">Print Rules</button>
            </div>
            
            <div class="rules-section">
                <h3>🚢 Overview</h3>
                <p>Word Fleet combines the strategy of Battleship with the word-building challenge of Wordle. Deploy your fleet of words across the battlefield and sink your opponent's ships by launching precise letter strikes!</p>
            </div>

            <div class="rules-section">
                <h3>⚓ Fleet Deployment</h3>
                <ul>
                    <li><strong>Ship Types:</strong> Deploy 5 ships of varying lengths (2-6 letters)</li>
                    <li><strong>Word Ships:</strong> Each ship is a real English word</li>
                    <li><strong>Placement:</strong> Ships can be placed horizontally or vertically</li>
                    <li><strong>No Overlap:</strong> Ships cannot touch or overlap</li>
                </ul>
            </div>

            <div class="rules-section">
                <h3>🎯 Combat Phase</h3>
                <ul>
                    <li><strong>Letter Strikes:</strong> Attack enemy positions by calling out letters</li>
                    <li><strong>Coordinate Strikes:</strong> Target specific grid coordinates (A1, B5, etc.)</li>
                    <li><strong>Hit Confirmation:</strong> Enemy must confirm hits and reveal struck letters</li>
                    <li><strong>Word Discovery:</strong> Deduce enemy words from hit patterns</li>
                </ul>
            </div>

            <div class="rules-section">
                <h3>🏆 Victory Conditions</h3>
                <ul>
                    <li><strong>Total Annihilation:</strong> Sink all enemy ships to claim victory</li>
                    <li><strong>Word Completion:</strong> Correctly guess an entire enemy word to sink that ship</li>
                    <li><strong>Strategic Advantage:</strong> Use linguistic knowledge to predict word patterns</li>
                </ul>
            </div>

            <div class="rules-section">
                <h3>⚔️ Advanced Tactics</h3>
                <p>Master tacticians will use common word patterns, letter frequency, and strategic placement to outmaneuver their opponents. Every letter matters in this battle of wits and words!</p>
            </div>
        </div>
    </div>
    <header class="wordle-header">
        <div class="wordle-title">
            <div class="wordle-word">
                <div class="wordle-tile">W</div>
                <div class="wordle-tile">O</div>
                <div class="wordle-tile">R</div>
                <div class="wordle-tile">D</div>
                <div class="wordle-tile blank"></div>
                <div class="wordle-tile">F</div>
                <div class="wordle-tile">L</div>
                <div class="wordle-tile">E</div>
                <div class="wordle-tile">E</div>
                <div class="wordle-tile">T</div>
            </div>
        </div>
        <p class="header-tagline">by Kevin Kolb • <a href="https://thegamebureau.com/wrdflt" target="_blank" rel="noopener" style="color:inherit;text-decoration:none;">thegamebureau.com/wrdflt</a></p>
    </header>

    <div class="main-container">
        <span class="sr-only">Word Fleet - Naval word combat strategy game</span>
        <div class="forms-container">
            <!-- Print & Play Mode -->
            <form class="form-card" id="penPaperForm" action="src/html/print.html" method="GET" onsubmit="return handlePrintSubmit(event)">
                <h2 class="form-title">Pen &amp; Paper Mode</h2>
                <p class="info-text">So, grandpa, you've finally convinced someone to play a game with you? Better check your printer's black ink because it's time to introduce these kids to some good old-fashioned, offline entertainment!</p>
                <div class="form-group">
                    <label for="player1Name">Name Your Fleet</label>
                    <div class="input-with-refresh">
                        <input type="text" name="fleet" id="player1Name" value="Royal Armada" required pattern=".{0,30}" title="Fleet name can contain letters, numbers, spaces, special characters, and emojis (max 30 characters)">
                        <button type="button" class="refresh-btn" onclick="regenerateFleetName()" title="Generate new fleet name">
                            🔄
                        </button>
                    </div>
                </div>
                <div class="toggle-group">
                    <span class="toggle-group-label">Word-Ships</span>
                    <div class="toggle-container">
                        <span class="toggle-label" id="pickWordsLabel">Pick Your Own</span>
                        <label class="toggle-switch">
                            <input type="checkbox" name="words" id="autoGen" class="toggle-input" value="true" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label" id="autoGenLabel">Auto-Generated</span>
                    </div>
                </div>
                <button type="submit" class="action-btn" id="printBtn">Print Your Battle Tracker</button>
                <button type="button" class="action-btn" onclick="openRulesModal()">Rules of Engagement</button>
            </form>
            
            
            <!-- Future Deployments -->
            <div class="form-card">
                <h2 class="form-title">Future Deployments</h2>
                <p class="info-text"><strong>The Word Fleet Simulator Mode</strong> will soon be underway, putting your tactical mastery of words to the test in head-to-head battles against friends or foes. You'll also face legendary captains raised from the depths of history by AI, ready for war—where every letter is a shot across the bow.</p>
                <p class="info-text">Tournaments. Wi-Fi. Phone apps. SMS combat. We're preparing a full complement of weapons for launch!</p>
            </div>
        </div>
    </div>

    <div class="force-portrait-message">
        Please rotate your device to portrait mode for the best Word Fleet experience.
    </div>
    <div class="mobile-image-footer">
        <img src="src/media/word_fleet_banner_1600x400.png" alt="Word Fleet Banner">
    </div>

    <script>
        // Function to print rules
        function printRules() {
            const rulesContent = `
                <html>
                <head>
                    <title>Word Fleet - Rules of Engagement</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
                        h1 { text-align: center; margin-bottom: 30px; }
                        h2 { color: #333; margin-top: 25px; margin-bottom: 15px; }
                        ul { margin-bottom: 20px; }
                        li { margin-bottom: 5px; }
                        p { margin-bottom: 15px; }
                    </style>
                </head>
                <body>
                    <h1>WORD FLEET: RULES OF ENGAGEMENT</h1>
                    
                    <h2>🚢 Overview</h2>
                    <p>Word Fleet combines the strategy of Battleship with the word-building challenge of Wordle. Deploy your fleet of words across the battlefield and sink your opponent's ships by launching precise letter strikes!</p>
                    
                    <h2>⚓ Fleet Deployment</h2>
                    <ul>
                        <li><strong>Ship Types:</strong> Deploy 5 ships of varying lengths (2-6 letters)</li>
                        <li><strong>Word Ships:</strong> Each ship is a real English word</li>
                        <li><strong>Placement:</strong> Ships can be placed horizontally or vertically</li>
                        <li><strong>No Overlap:</strong> Ships cannot touch or overlap</li>
                    </ul>
                    
                    <h2>🎯 Combat Phase</h2>
                    <ul>
                        <li><strong>Letter Strikes:</strong> Attack enemy positions by calling out letters</li>
                        <li><strong>Coordinate Strikes:</strong> Target specific grid coordinates (A1, B5, etc.)</li>
                        <li><strong>Hit Confirmation:</strong> Enemy must confirm hits and reveal struck letters</li>
                        <li><strong>Word Discovery:</strong> Deduce enemy words from hit patterns</li>
                    </ul>
                    
                    <h2>🏆 Victory Conditions</h2>
                    <ul>
                        <li><strong>Total Annihilation:</strong> Sink all enemy ships to claim victory</li>
                        <li><strong>Word Completion:</strong> Correctly guess an entire enemy word to sink that ship</li>
                        <li><strong>Strategic Advantage:</strong> Use linguistic knowledge to predict word patterns</li>
                    </ul>
                    
                    <h2>⚔️ Advanced Tactics</h2>
                    <p>Master tacticians will use common word patterns, letter frequency, and strategic placement to outmaneuver their opponents. Every letter matters in this battle of wits and words!</p>
                </body>
                </html>
            `;
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(rulesContent);
            printWindow.document.close();
            printWindow.print();
            printWindow.close();
        }

        // Function to open rules modal
        function openRulesModal() {
            document.getElementById('rulesModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Function to close rules modal
        function closeRulesModal() {
            document.getElementById('rulesModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside content
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('rulesModal');
            if (e.target === modal) {
                closeRulesModal();
            }
        });

        // Test function to manually trigger highlight
        function testHighlight() {
            console.log('Manual highlight test triggered');
            const penPaperForm = document.getElementById('penPaperForm');
            if (penPaperForm) {
                console.log('Adding highlight class manually');
                penPaperForm.classList.add('highlight');
                
                setTimeout(() => {
                    console.log('Removing highlight class manually');
                    penPaperForm.classList.remove('highlight');
                }, 3000);
            } else {
                console.log('Form not found!');
            }
        }

        // Function to get random fleet name
        function getRandomFleetName() {
            const fleetFirstNames = [
                'Salty', 'Barnacle-Crusted', 'Rum-Soaked', 'Royal', 'Crabby', 'Peg-Legged',
                'Soggy-Bottom', 'Windswept', 'Mullet-Class', 'Scurvy Dog', 'Leaky Hull',
                'Ironclad', 'Dreadnought', 'Ghost Flag', 'Thunderhead', 'Bloodwake', 'Scurvy',
                'Admiral\'s', 'Captain\'s', 'Commodore\'s', 'Flagship', 'Armored', 'Steel-Hulled',
                'Battle-Ready', 'Storm-Battered', 'Salt-Crusted', 'Weather-Beaten', 'Tide-Worn',
                'Rust-Stained', 'Barnacle-Encrusted', 'Sun-Bleached', 'Iron-Fisted', 'Cannon-Heavy',
                'Gun-Blazing', 'Torpedo-Laden', 'Skull & Crossbones', 'Merciless', 'Fearsome',
                'Parrot-Shouldered', 'Grog-Fueled', 'Tricorn-Wearing', 'Hook-Handed', 'Eye-Patched',
                'Beard-Braided', 'Compass-Spinning', 'Ghost Ship', 'Kraken\'s', 'Siren\'s',
                'Poseidon\'s', 'Davy Jones\'', 'Cursed', 'Phantom', 'Half-Sunk', 'Listing',
                'Creaking', 'Groaning', 'Patched-Up', 'Battle-Scarred'
            ];
            const navalTerms = [
                'Armada', 'Fleet', 'Flotilla', 'Squadron', 'Convoy', 'Navy', 'Task Force',
                'Armament', 'Battlegroup', 'Line', 'Expeditionary Force', 'Regatta', 'Squad',
                'Cohort', 'Division', 'Wing', 'Company', 'Brigade', 'Battalion', 'Unit',
                'Force', 'Command', 'Patrol', 'Strike Force', 'Reconnaissance', 'Vanguard',
                'Reserve', 'Guard', 'Watch', 'Blockade', 'Tide', 'Current', 'Wake', 'Waves',
                'Storm', 'Tempest', 'Gale', 'Maelstrom', 'Admiralty', 'Authority', 'Order',
                'Legion', 'Brotherhood', 'Alliance', 'Coalition', 'Depth', 'Trench', 'Reef',
                'Harbor', 'Bay', 'Strait', 'Channel', 'Passage', 'Assault', 'Siege',
                'Bombardment', 'Offensive', 'Campaign', 'Operation', 'Mission', 'Expedition'
            ];
            const randomFirstName = fleetFirstNames[Math.floor(Math.random() * fleetFirstNames.length)];
            const randomNavalTerm = navalTerms[Math.floor(Math.random() * navalTerms.length)];
            return `${randomFirstName} ${randomNavalTerm}`;
        }

        // Function to regenerate fleet name
        function regenerateFleetName() {
            const fleetInput = document.getElementById('player1Name');
            fleetInput.value = getRandomFleetName();
        }

        // Function to check for highlight parameter and apply highlighting
        function checkForHighlight() {
            console.log('Checking for highlight parameter...');
            console.log('Current URL:', window.location.href);
            
            const urlParams = new URLSearchParams(window.location.search);
            const highlightParam = urlParams.get('highlight');
            
            console.log('Highlight parameter value:', highlightParam);
            
            if (highlightParam === 'form') {
                console.log('Highlight parameter matches "form"');
                const penPaperForm = document.getElementById('penPaperForm');
                console.log('Found form element:', penPaperForm);
                
                if (penPaperForm) {
                    console.log('Adding highlight class...');
                    // Add highlight class
                    penPaperForm.classList.add('highlight');
                    
                    // Scroll to the form smoothly
                    penPaperForm.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                    
                    // Remove highlight class after animation completes
                    setTimeout(() => {
                        console.log('Removing highlight class...');
                        penPaperForm.classList.remove('highlight');
                    }, 3000);
                    
                    // Clean up URL by removing the highlight parameter
                    urlParams.delete('highlight');
                    const newUrl = window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : '');
                    window.history.replaceState({}, '', newUrl);
                } else {
                    console.log('ERROR: penPaperForm not found!');
                }
            } else {
                console.log('No highlight parameter found or value does not match "form"');
            }
        }

        // Set random fleet name on page load and check for highlight
        window.addEventListener('DOMContentLoaded', function() {
            const fleetInput = document.getElementById('player1Name');
            fleetInput.value = getRandomFleetName();
            
            // Check for highlight parameter
            checkForHighlight();
        });

        // Handle form submission with default values
        function handlePrintSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const fleet1 = form.fleet.value.trim() || 'Fleet';
            const words = form.words.checked ? 'yes' : 'no';
            const params = new URLSearchParams({
                fleet: fleet1,
                words: words
            });
            window.location.href = form.action + '?' + params.toString();
            return false;
        }

        // Auto-generate toggle for Print & Play
        function updateToggleLabels() {
            const autoGenToggle = document.getElementById('autoGen');
            const pickWordsLabel = document.getElementById('pickWordsLabel');
            const autoGenLabel = document.getElementById('autoGenLabel');
            
            if (autoGenToggle && autoGenToggle.checked) {
                pickWordsLabel.classList.remove('active');
                autoGenLabel.classList.add('active');
            } else {
                pickWordsLabel.classList.add('active');
                autoGenLabel.classList.remove('active');
            }
        }

        // Initialize toggle labels on page load
        window.addEventListener('DOMContentLoaded', function() {
            updateToggleLabels();
            const autoGenToggle = document.getElementById('autoGen');
            if (autoGenToggle) {
                autoGenToggle.addEventListener('change', updateToggleLabels);
            }
        });
    </script>
</body>
</html>